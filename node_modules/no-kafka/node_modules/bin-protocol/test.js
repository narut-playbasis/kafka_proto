'use strict';

var Protocol = require('./lib/index');
var _ = require('lodash');
var fs = require('fs');
var path = require('path');
var util = require('util');

var proto = fs.readFileSync('/Users/oleksiy/src/binary-protocol/test/proto/complex.proto');

var GameProtocol = Protocol.createProtobufProtocol(proto);

var protocol = new GameProtocol();

var buffer, r;

/*protocol.parseProto(fs.readFileSync('/Users/oleksiy/src/riakproto/riak_pb/src/riak.proto'));
protocol.parseProto(fs.readFileSync('/Users/oleksiy/src/riakproto/riak_pb/src/riak_dt.proto'));
protocol.parseProto(fs.readFileSync('/Users/oleksiy/src/riakproto/riak_pb/src/riak_kv.proto'));
protocol.parseProto(fs.readFileSync('/Users/oleksiy/src/riakproto/riak_pb/src/riak_search.proto'));
protocol.parseProto(fs.readFileSync('/Users/oleksiy/src/riakproto/riak_pb/src/riak_ts.proto'));
protocol.parseProto(fs.readFileSync('/Users/oleksiy/src/riakproto/riak_pb/src/riak_yokozuna.proto'));*/

buffer = new Buffer([10, 5, 82, 117, 115, 116, 121, 18, 17, 10, 9, 73, 114, 111, 110, 32, 73, 110, 99, 46, 18, 4, 10, 2, 85, 83, 24, 2]);

r = protocol.read(buffer).Game.Cars.Car().result;

console.log(r);



